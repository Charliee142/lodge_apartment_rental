{% load static %}

  <!-- navbar.html -->
<nav class="navbar navbar-expand-lg border shadow">
  <div class="container-fluid">
    <a class="navbar-brand" href="">
      <i class="fas fa-graduation-cap"></i>ESTATE DREAM
    </a>
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link active" href="/">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'properties' %}">Properties</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'gallery' %}">Gallery</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">About</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'service' %}">Services</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'contact' %}">Contact</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'blog' %}">Blog</a></li>
      </ul>

      <!-- Dark Mode Toggle & User Dropdown (Right Side) -->
      <ul class="navbar-nav ms-auto align-items-center">
     
        {% if user.is_authenticated %}
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
            {% if user.profile.profile_picture %}
            <img src="{{ user.profile.profile_picture.url }}" class="rounded-circle border" width="30" height="30" alt="">
            {% else %}
            <img src="{% static 'images/avatar.jpg' %}" class="rounded-circle border" width="30" height="30" alt="">
            {% endif %}
            {% if user.profile.first_name %}
            <span class="ms-2">{{ user.profile.first_name }}</span>
            {% else %}
            <span class="ms-2">{{ user.email }}</span>
            {% endif %}
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="{% url 'my_dashboard' %}"><i class="fas fa-user"></i> Dashboard</a></li>
            <li><a class="dropdown-item" href="{% url 'account_change_password' %}"><i class="fas fa-cog"></i> Settings</a></li>
            <li><a class="dropdown-item" href="{% url 'my_favorites' %}"><i class="fa-solid fa-heart"></i></i> My Wishlist</a></li>
            <li><a class="dropdown-item text-danger" href="{% url 'account_logout' %}"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
          </ul>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link btn btn-primary text-dark px-3" href="{% url 'account_login' %}"><i class="fas fa-sign-in-alt"></i> Login</a>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


<script>
  document.addEventListener("DOMContentLoaded", function() {
      const darkModeToggle = document.getElementById("darkModeToggle");
      const body = document.body;

      // Load saved theme
      if (localStorage.getItem("theme") === "dark") {
          body.classList.add("dark-mode");
          darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      }

      // Toggle theme
      darkModeToggle.addEventListener("click", function() {
          body.classList.toggle("dark-mode");

          if (body.classList.contains("dark-mode")) {
              localStorage.setItem("theme", "dark");
              darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
          } else {
              localStorage.setItem("theme", "light");
              darkModeToggle.innerHTML = '<i class="fas fa-moon"></i>';
          }
      });
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
