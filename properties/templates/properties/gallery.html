{% extends 'base.html' %}
{% load static %}

{% block title %}Gallery{% endblock %}

{% block content %}
<style>
  .gallery-item { 
    display: none; 
    position: relative; 
    overflow: hidden; 
    border-radius: 10px;
    transition: transform 0.3s ease; 
  }
  .gallery-item.active { 
    display: block; 
  }
  .gallery-item:hover { 
    transform: scale(1.05); 
  }
  .filter-btn { 
    cursor: pointer; 
    margin: 5px; 
    padding: 10px; 
    border: 1px solid #ddd; 
    border-radius: 5px; 
    transition: background-color 0.3s;
  }
  .filter-btn.active { 
    background-color: #2575fc; 
    color: white; 
  }
  .filters { 
    display: flex; 
    justify-content: center; 
    margin-bottom: 20px;
  }
  .gallery-items {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
  }
  .gallery-item img {
    width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: opacity 0.3s ease;
  }

  /* Captions */
  .caption {
    position: absolute;
    bottom: 10px;
    left: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    font-size: 16px;
    padding: 5px;
    border-radius: 5px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  .gallery-item:hover .caption {
    opacity: 1;
  }

  /* Lightbox */
  .lightbox-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  .lightbox-overlay img {
    max-width: 90%;
    max-height: 90%;
    border-radius: 10px;
  }
  .lightbox-close {
    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 30px;
    color: white;
    cursor: pointer;
  }
</style>

  <style>
    /* Gallery Container */
    .gallery-container {
      padding: 50px 0;
      background: #f4f4f4;
    }

    .gallery-heading {
      text-align: center;
      margin-bottom: 30px;
    }

    .gallery-heading h1 {
      font-size: 2.5rem;
      font-weight: 600;
      color: #333;
    }

    .gallery-heading span {
      font-size: 1.1rem;
      color: #555;
    }

    /* Filter Buttons */
    .filters {
      display: flex;
      justify-content: center;
      margin-bottom: 30px;
    }

    .filter-btn {
      padding: 10px 20px;
      margin: 0 10px;
      border: 1px solid #ddd;
      background-color: white;
      color: #333;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 25px;
      transition: all 0.3s ease;
    }

    .filter-btn.active {
      background-color: #2575fc;
      color: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .filter-btn:hover {
      background-color: #f0f0f0;
    }

    /* Gallery Items */
    .gallery-items {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      padding: 0 10px;
    }

    .gallery-item {
      background-color: white;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      transition: transform 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .gallery-item img {
      width: 100%;
      height: auto;
      transition: transform 0.3s ease;
    }

    .gallery-item:hover {
      transform: translateY(-10px);
    }

    .gallery-item img:hover {
      transform: scale(1.1);
    }
  </style>

  <!-- Gallery Section -->
  <div class="container gallery-container">
    <div class="gallery-heading">
      <h1>Gallery</h1>
      <span>Explore our latest properties</span>
    </div>

    <!-- Filter Buttons -->
    <div class="filters">
      <button class="filter-btn active" data-filter="all">All</button>
      <button class="filter-btn" data-filter="interior">Interior</button>
      <button class="filter-btn" data-filter="villas">Villas</button>
      <button class="filter-btn" data-filter="apartments">Apartments</button>
      <button class="filter-btn" data-filter="properties">Properties</button>
    </div>

   <!-- Lightbox Overlay -->
   <div class="lightbox-overlay">
    <img src="" alt="Lightbox Image">
    <span class="lightbox-close">&times;</span>
  </div>
  <!-- Gallery Items -->
<div class="gallery-items mt-4">
  {% for item in items %}
  <div class="gallery-item" data-category="{{ item.category }}">
    <img src="{{ item.image.url }}" alt="{{ item.name }}">
    <div class="caption">{{ item.name }}</div>
  </div>
  {% endfor %}
  <!-- Add more items as needed -->
</div>

</div>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const filterButtons = document.querySelectorAll(".filter-btn");
    const galleryItems = document.querySelectorAll(".gallery-item");
    const lightbox = document.querySelector(".lightbox-overlay");
    const lightboxImage = lightbox.querySelector("img");
    const lightboxClose = lightbox.querySelector(".lightbox-close");

    // Function to filter items
    const filterGallery = (category) => {
      galleryItems.forEach((item) => {
        if (category === "all" || item.dataset.category === category) {
          item.classList.add("active");
        } else {
          item.classList.remove("active");
        }
      });
    };

    // Add click event listeners to filter buttons
    filterButtons.forEach((button) => {
      button.addEventListener("click", () => {
        filterButtons.forEach((btn) => btn.classList.remove("active"));
        button.classList.add("active");
        const category = button.dataset.filter;
        filterGallery(category);
      });
    });

    // Add click event listener for gallery items to open lightbox
    galleryItems.forEach((item) => {
      item.addEventListener("click", () => {
        const imgSrc = item.querySelector("img").src;
        lightboxImage.src = imgSrc;
        lightbox.style.display = "flex";
      });
    });

    // Close the lightbox
    lightboxClose.addEventListener("click", () => {
      lightbox.style.display = "none";
    });

    // Show all items by default on page load
    filterGallery("all");
  });
</script>


{% endblock content %}
